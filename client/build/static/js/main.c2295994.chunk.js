(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,a){e.exports=a(53)},27:function(e,t,a){},34:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(20),r=a.n(l),o=(a(27),a(3)),s=(a(34),a(2)),m=a.n(s),i=a(1),u=function(){var e,t,a,l,r,s,u,d,h,f,p=Object(n.useState)(""),g=Object(i.a)(p,2),b=g[0],E=g[1],v=Object(n.useState)(""),N=Object(i.a)(v,2),y=N[0],k=N[1],w=Object(n.useState)(""),j=Object(i.a)(w,2),S=j[0],O=j[1],x=Object(n.useState)(""),C=Object(i.a)(x,2),_=C[0],F=C[1],U=Object(n.useState)(""),B=Object(i.a)(U,2),D=B[0],A=B[1],I=Object(n.useState)(null),L=Object(i.a)(I,2),H=L[0],P=L[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"col-5 dark-font ",onSubmit:function(e){e.preventDefault();var t={firstName:b,lastName:y,email:S,password:_,confirmPassword:D};m.a.post("http://localhost:8000/api/register",t,{withCredentials:!0}).then((function(e){E(""),k(""),O(""),F(""),A(""),Object(o.c)("/home")})).catch((function(e){P(e.response.data.errors)}))}},c.a.createElement("div",{className:"form-row justify-content-around"},c.a.createElement("fieldset",{className:"thick-border form-group"},c.a.createElement("legend",{className:"w-auto mx-3 px-1"},"register"),c.a.createElement("div",{className:"form-row m-1"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{onChange:function(e){return E(e.target.value)},value:b,type:"text",className:"form-control",placeholder:"first name"}),(null===H||void 0===H?void 0:H.firstName)&&c.a.createElement("span",{className:"error-message"},null===(e=H.firstName)||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.message)),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{onChange:function(e){return k(e.target.value)},value:y,type:"text",className:"form-control",placeholder:"last name"}),(null===H||void 0===H?void 0:H.lastName)&&c.a.createElement("span",{className:"error-message"},null===(a=H.lastName)||void 0===a||null===(l=a.properties)||void 0===l?void 0:l.message))),c.a.createElement("div",{className:"form-row m-2 m-2"},c.a.createElement("input",{onChange:function(e){return O(e.target.value)},value:S,type:"text",className:"form-control",placeholder:"email"}),(null===H||void 0===H?void 0:H.email)&&c.a.createElement("span",{className:"error-message"},null===(r=H.email)||void 0===r||null===(s=r.properties)||void 0===s?void 0:s.message)),c.a.createElement("div",{className:"form-row m-1"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{onChange:function(e){return F(e.target.value)},value:_,type:"text",className:"form-control",placeholder:"password"}),(null===H||void 0===H?void 0:H.password)&&c.a.createElement("span",{className:"error-message"},null===(u=H.password)||void 0===u||null===(d=u.properties)||void 0===d?void 0:d.message)),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{onChange:function(e){return A(e.target.value)},value:D,type:"text",className:"form-control",placeholder:"confirm password"}),(null===H||void 0===H?void 0:H.confirmPassword)&&c.a.createElement("span",{className:"error-message"},null===(h=H.confirmPassword)||void 0===h||null===(f=h.properties)||void 0===f?void 0:f.message))),c.a.createElement("div",{className:"row justify-content-around"},c.a.createElement("button",{className:"btn btn-outline-success thick-border dark-font font-weight-bold m-2"},"register"))))))},d=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(""),s=Object(i.a)(r,2),u=s[0],d=s[1],h=Object(n.useState)(null),f=Object(i.a)(h,2),p=f[0],g=f[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"col-5 dark-font ",onSubmit:function(e){e.preventDefault(),m.a.post("http://localhost:8000/api/login",{email:a,password:u},{withCredentials:!0}).then((function(e){Object(o.c)("/home")})).catch((function(e){g(e.response.data.msg)}))}},c.a.createElement("div",{className:"form-row justify-content-around"},c.a.createElement("fieldset",{className:"thick-border form-group"},c.a.createElement("legend",{className:"w-auto mx-3 px-1"},"login"),c.a.createElement("div",{className:"form-row m-2 m-2"},c.a.createElement("input",{onChange:function(e){return l(e.target.value)},value:a,type:"text",className:"form-control",placeholder:"email"})),c.a.createElement("div",{className:"form-row m-2 m-2"},c.a.createElement("input",{onChange:function(e){return d(e.target.value)},value:u,type:"text",className:"form-control",placeholder:"password"})),c.a.createElement("p",{className:"error-message"},p||""),c.a.createElement("div",{className:"row justify-content-around"},c.a.createElement("button",{className:"btn btn-outline-success thick-border dark-font font-weight-bold m-2"},"login"))))))},h=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"mt-4"},"Welcome to Encounter!"),c.a.createElement("h3",null,"Just having a look around? "),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m.a.post("http://localhost:8000/api/login",{email:"guest@birder.com",password:"asdfasdf"},{withCredentials:!0}).then((function(e){Object(o.c)("/home")})).catch((function(e){console.log(e)}))}},c.a.createElement("button",{className:"btn btn-outline-success btn-lg mb-4"},"continue as a guest")),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement(u,null),c.a.createElement(d,null))))},f=function(e){var t=e.userName;return c.a.createElement("div",{className:"d-flex justify-content-around"},c.a.createElement(o.a,{to:"/home",className:"btn btn-outline-primary btn-lg mr-4 my-4"},"Home"),c.a.createElement("h2",{className:"dark-font mr-auto mt-4"}," Hey, ",t,"! "),c.a.createElement(o.a,{to:"/main",className:"btn btn-outline-success btn-lg m-4"},"New List"),c.a.createElement("button",{onClick:function(e){e.preventDefault(),m.a.post("http://localhost:8000/api/logout",{},{withCredentials:!0}).then((function(e){Object(o.c)("/")})).catch((function(e){return console.log(e)}))},className:"btn btn-outline-danger btn-lg m-4"},"Logout"))},p=function(e){var t=e.checklist,a=t.updatedAt.slice(0,10);return c.a.createElement("div",{className:"card mb-3 mr-3 thick-border col-9 d-inline-flex"},c.a.createElement("div",{className:"card-body justify-content-between d-flex"},c.a.createElement("a",{href:"/checklists/".concat(t._id),className:"h2 py-3 stretched-link d-inline-flex col-5"},t.title),c.a.createElement("div",{className:"col-5"},c.a.createElement("p",{className:"font-bold d-inline-flex align-self-center",style:{fontSize:"22px"}},"location:  ",t.location),c.a.createElement("p",{className:"h6 dark-font d-inline-flex align-self-center mr-4",style:{fontSize:"14px"}},"last updated: ",a))))},g=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Updating your list of lists..."),c.a.createElement("div",{className:"container"},c.a.createElement("iframe",{src:"https://giphy.com/embed/XAWvCOd3oV7q",frameBorder:"0",className:"",allowFullScreen:!0,style:{height:400}})),c.a.createElement("p",null,c.a.createElement("a",{href:"https://giphy.com/gifs/cheezburger-funny-birds-XAWvCOd3oV7q"},"via GIPHY")))},b=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{className:"helper-msg-color"},"You haven't created any checklists yet! ",c.a.createElement("br",null),"Click on the New List button to get started."),c.a.createElement("div",{className:"container"},c.a.createElement("iframe",{src:"https://giphy.com/embed/X8ynfaP1ZwTvTbxH1b",frameBorder:"0",className:"",allowFullScreen:!0,style:{height:400}})),c.a.createElement("p",null,c.a.createElement("a",{href:"https://giphy.com/gifs/cbc-schittscreek-schitts-creek-X8ynfaP1ZwTvTbxH1b"},"via GIPHY")))},E=function(){var e=a(9),t=Object(n.useState)(!1),l=Object(i.a)(t,2),r=l[0],o=l[1],s=Object(n.useState)({}),u=Object(i.a)(s,2),d=u[0],h=u[1];Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/users/loggedin",{withCredentials:!0}).then((function(e){console.log("logged in user: ".concat(e.data.email)),h(e.data)})).catch((function(e){console.log(e)}))}),[]);var E=Object(n.useState)([]),v=Object(i.a)(E,2),N=v[0],y=v[1];Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/users/checklists",{withCredentials:!0}).then((function(t){var a=t.data.checklists;a=e.orderBy(a,"-updatedAt"),y(a),o(!0)})).catch((function(e){console.log(e)}))}),[]);return c.a.createElement("div",{className:"container"},c.a.createElement(f,{userName:d.firstName}),!r&&c.a.createElement(g,null),r&&N.length>0?c.a.createElement("div",null,c.a.createElement("h2",{className:"text-left dark-font"},"Here's all your saved checklists:"),c.a.createElement("h6",{className:"helper-msg-color text-left ml-1"},"Click on a list to view/update it.")):null,r&&0===N.length?c.a.createElement(b,null):null,r&&N.length>0?N.map((function(e,t){return c.a.createElement("div",{className:"d-flex "},c.a.createElement(p,{checklist:e,key:t}),c.a.createElement("button",{onClick:function(t){return a=e._id,o(!1),void m.a.delete("http://localhost:8000/api/checklists/".concat(a),{withCredentials:!0}).then((function(e){console.log("deleting checklist: ".concat(a));var t=N.filter((function(e){return e._id!=a}));y(t),o(!0)})).catch((function(e){return console.log(e)}));var a},className:"text-center btn btn-danger d-inline-flex align-self-center"},"delete"))})):null)},v=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(""),s=Object(i.a)(r,2),m=s[0],u=s[1],d=Object(n.useState)(""),h=Object(i.a)(d,2),f=h[0],p=h[1],g=Object(n.useState)(""),b=Object(i.a)(g,2),E=b[0],v=b[1],N=Object(n.useState)(""),y=Object(i.a)(N,2),k=y[0],w=y[1],j=Object(n.useState)(""),S=Object(i.a)(j,2),O=S[0],x=S[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"container dark-font",onSubmit:function(e){e.preventDefault();var t="",n=(new Date).getMonth();"thisSeason"===k&&(t=[n-1,n,n+1]),"springSeason"===k&&(t=[2,3,4]),"summerSeason"===k&&(t=[5,6,7]),"fallSeason"===k&&(t=[8,9,10]),"winterSeason"===k&&(t=[11,0,1]),t=encodeURIComponent(t);var c="";a.length>0&&(c+="".concat(a,"+")),E.length>0&&(c+="".concat(E,"+")),f.length>0&&(c+="".concat(f,"+County+")),m.length>0&&(c+="".concat(m)),c=encodeURIComponent(c),Object(o.c)("/main/results/".concat(c,"/").concat(t))}},c.a.createElement("div",{className:"form-row justify-content-around"},c.a.createElement("fieldset",{className:"thick-border form-group col-md-5"},c.a.createElement("legend",{className:"w-auto mx-3 px-1"},"location"),c.a.createElement("div",{className:"form-row m-2 m-2"},c.a.createElement("input",{onChange:function(e){return l(e.target.value)},value:a,type:"text",className:"form-control",placeholder:"birding location (park, campus, lake, etc.)"})),c.a.createElement("div",{className:"form-row m-2"},c.a.createElement("input",{onChange:function(e){return v(e.target.value)},value:E,type:"text",className:"form-control",placeholder:"municipality"})),c.a.createElement("div",{className:"form-row m-1"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{onChange:function(e){return p(e.target.value)},value:f,type:"text",className:"form-control",placeholder:"county"})),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{onChange:function(e){return u(e.target.value)},value:m,type:"text",className:"form-control",placeholder:"state"}))),c.a.createElement("div",{className:"form-row m-2"},c.a.createElement("input",{onChange:function(e){return x(e.target.value)},value:O,type:"text",className:"form-control",placeholder:"search radius (km)"})))," ",c.a.createElement("fieldset",{className:"thick-border form-group col-md-5"},c.a.createElement("legend",{className:"w-auto mx-3 px-1"},"season"),c.a.createElement("div",{className:"form-row justify-content-around"},c.a.createElement("div",{className:"p-1 my-2 lt-gray-border"},c.a.createElement("div",{className:"form-check text-center"},c.a.createElement("input",{onChange:function(e){return w(e.target.value)},className:"form-check-input",type:"radio",name:"searchSeason",id:"thisSeason",value:"thisSeason"}),c.a.createElement("label",{className:"form-check-label",htmlFor:"thisSeason"},"this season (\xb1 1 month from today)")))),c.a.createElement("div",{className:"form-row justify-content-around"},c.a.createElement("div",{className:"col-md-4 my-2 lt-gray-border"},c.a.createElement("div",{className:"form-check text-center"},c.a.createElement("input",{onChange:function(e){return w(e.target.value)},className:"form-check-input mt-3",type:"radio",name:"searchSeason",id:"springSeason",value:"springSeason"}),c.a.createElement("label",{className:"form-check-label",htmlFor:"springSeason"},"spring",c.a.createElement("br",null),"(March - May)"))),c.a.createElement("div",{className:"col-md-4 my-2 lt-gray-border"},c.a.createElement("div",{className:"form-check text-center"},c.a.createElement("input",{onChange:function(e){return w(e.target.value)},className:"form-check-input mt-3",type:"radio",name:"searchSeason",id:"summerSeason",value:"summerSeason"}),c.a.createElement("label",{className:"form-check-label",htmlFor:"summerSeason"},"summer",c.a.createElement("br",null),"(June - Aug)")))),c.a.createElement("div",{className:"form-row justify-content-around"},c.a.createElement("div",{className:"col-md-4 my-2 lt-gray-border"},c.a.createElement("div",{className:"form-check text-center"},c.a.createElement("input",{onChange:function(e){return w(e.target.value)},className:"form-check-input mt-3",type:"radio",name:"searchSeason",id:"fallSeason",value:"fallSeason"}),c.a.createElement("label",{className:"form-check-label mx-2",htmlFor:"fallSeason"},"fall",c.a.createElement("br",null),"(Sept - Nov)"))),c.a.createElement("div",{className:"col-md-4 my-2 lt-gray-border"},c.a.createElement("div",{className:"form-check text-center"},c.a.createElement("input",{onChange:function(e){return w(e.target.value)},className:"form-check-input mt-3",type:"radio",name:"searchSeason",id:"winterSeason",value:"winterSeason"}),c.a.createElement("label",{className:"form-check-label mx-2",htmlFor:"winterSeason"},"winter",c.a.createElement("br",null),"(Dec - Feb)")))))),c.a.createElement("div",{className:"row justify-content-around"},c.a.createElement("button",{className:"btn btn-success font-weight-bold m-2"},"Build a Checklist"))))},N=a(6),y=function(e){var t=e.bird;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"card mb-3 mr-3 thick-border",style:{width:"20em"}},c.a.createElement("img",{src:t.photoUrl,alt:"".concat(t.commonName),className:"card-img-top rounded-corners align-self-center mt-2",style:{width:"80px"}}),c.a.createElement("div",{className:"card-body text-center"},c.a.createElement("a",{href:"".concat(t.wikipediaUrl),target:"_blank",className:"h5 py-3"},t.commonName),c.a.createElement("p",{className:"font-italic"},t.latinName),c.a.createElement("a",{href:"".concat(t.iNatOccUrl),target:"_blank"},c.a.createElement("span",{className:"h6 dark-font",style:{fontSize:"14px"}},"last seen here on: "),t.observedOn))))},k=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Rustling up some birds..."),c.a.createElement("div",{className:"container"},c.a.createElement("iframe",{src:"https://giphy.com/embed/gSRkSblDEjUuk",frameBorder:"0",className:"",allowFullScreen:!0,style:{height:400}})),c.a.createElement("p",null,c.a.createElement("a",{href:"https://giphy.com/gifs/cheezburger-bird-popcorn-funny-gSRkSblDEjUuk"},"via GIPHY")))},w=function(e){var t=Object(n.useState)(!1),l=Object(i.a)(t,2),r=l[0],s=l[1],u=a(9),d=Object(n.useState)({}),h=Object(i.a)(d,2),f=h[0],p=h[1];Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/users/loggedin",{withCredentials:!0}).then((function(e){console.log("logged in user: ".concat(e.data.email)),p(e.data)})).catch((function(e){console.log(e)}))}),[]);var g=e.locale,b=decodeURIComponent(e.season),E=decodeURIComponent(g).replace("+",", "),v=Object(n.useState)([]),w=Object(i.a)(v,2),j=w[0],S=w[1],O=Object(n.useState)(""),x=Object(i.a)(O,2),C=x[0],_=x[1],F=Object(n.useState)(""),U=Object(i.a)(F,2),B=U[0],D=U[1],A=Object(n.useState)(""),I=Object(i.a)(A,2),L=I[0],H=I[1],P=Object(n.useState)(E),T=Object(i.a)(P,2),M=T[0],z=T[1],R=Object(n.useState)(""),Y=Object(i.a)(R,2),W=Y[0];Y[1];Object(n.useEffect)((function(){m.a.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:g,key:"AIzaSyAfn2CaF72cK4u65PyzZLLKODmjiVShC1Q"}}).then((function(e){var t=new Date;m.a.get("https://api.inaturalist.org/v1/observations",{params:{per_page:200,iconic_taxa:"Aves",order:"desc",order_by:"observed_on",quality_grade:"research",geoprivacy:"open",month:"".concat(b),d1:"".concat(t.getFullYear()-50,"-").concat(t.getMonth()+1,"-").concat(t.getDate()),d2:"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()),lat:"".concat(e.data.results[0].geometry.location.lat),lng:"".concat(e.data.results[0].geometry.location.lng)}}).then((function(e){var t=function(e){console.log("starting to filter...");var t=Object(N.a)(e),a=[],n=[];return t.forEach((function(e){n.includes(e.taxon.preferred_common_name)||(a.push({photoUrl:e.taxon.default_photo.square_url,commonName:e.taxon.preferred_common_name,latinName:e.taxon.name,wikipediaUrl:e.taxon.wikipedia_url,iNatOccUrl:e.uri,observedOn:e.observed_on,hasBeenSeen:!1,notes:"",shouldSave:!0}),n.push(e.taxon.preferred_common_name))})),u.orderBy(a,"commonName")}(e.data.results);S(t),s(!0)})).catch((function(e){return D("An error occurred while trying to build your checklist. Please try again.")}))})).catch((function(e){return _("Something's wrong with the location you're using. Try broadening your search.")}))}),[]);return c.a.createElement("div",null,C.length>0&&c.a.createElement("p",{className:"error-message"},C),B.length>0&&c.a.createElement("p",{className:"error-message"},B),!r&&c.a.createElement(k,null),c.a.createElement("hr",{className:"thick-border"}),r&&c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=Object(N.a)(j),a={birds:t=(t=t.filter((function(e){return!0===e.shouldSave}))).map((function(e){return{commonName:e.commonName,hasBeenSeen:e.hasBeenSeen,iNatOccUrl:e.iNatOccUrl,latinName:e.latinName,notes:e.notes,observedOn:"",photoUrl:e.photoUrl,wikipediaUrl:e.wikipediaUrl}})),creator:f._id,location:M,notes:W,title:L.length>0?L:"[No Title]"};m.a.post("http://localhost:8000/api/checklists/new",a,{withCredentials:!0}).then((function(e){var t=e.data.newList._id,a={checklists:f.checklists.concat(t)};return m.a.put("http://localhost:8000/api/users/edit",a,{withCredentials:!0}).then((function(e){e.json({msg:"checklist._id successfully added to user's acct!"})})).catch((function(e){return console.log("error adding checklist to user's acct: ".concat(e))})),t})).then((function(e){Object(o.c)("/checklists/".concat(e))})).catch((function(e){return console.log("error with making new checklist: ".concat(e))}))}},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("h2",{className:"ml-2 dark-font"},"Here's what we found:"),c.a.createElement("button",{className:"btn btn-primary btn-lg mr-4"},"Save Checklist")),c.a.createElement("h6",{className:"helper-msg-color text-left ml-2"},"To save this list, decide which birds to keep (\u2611) or not (\u2610), add a title if you want, then hit the save button."),c.a.createElement("br",null),c.a.createElement("div",{className:"form-row m-2"},c.a.createElement("div",{className:"form-row col-6"},c.a.createElement("label",{className:"text-left"},"Title:"),c.a.createElement("input",{name:"title",onChange:function(e){return H(e.target.value)},value:L,type:"text",className:"form-control",placeholder:"Do you want to name this list?"})),c.a.createElement("div",{className:"form-row ml-2 col-6"},c.a.createElement("label",null,"Location:"),c.a.createElement("input",{name:"location",onChange:function(e){return z(e.target.value)},value:M,type:"text",className:"form-control",placeholder:"Do you want to specify a location?"}))),j.map((function(e,t){return c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",value:e,key:t,checked:e.shouldSave,onChange:function(){return function(e){j[e].shouldSave=!j[e].shouldSave,S(Object(N.a)(j))}(t)}}),c.a.createElement(y,{bird:e}))})),c.a.createElement("div",{className:"d-flex justify-content-center mb-4"},c.a.createElement("button",{className:"btn btn-primary btn-lg mr-4"},"Save Checklist"))))},j=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/users/loggedin",{withCredentials:!0}).then((function(e){console.log("logged in user: ".concat(e.data.email)),l(e.data)})).catch((function(e){console.log(e)}))}),[]),c.a.createElement("div",{className:"container"},c.a.createElement(f,{userName:a.firstName}),c.a.createElement("h6",{className:"helper-msg-color text-left ml-4"},"To create a new list, just fill out the form and click the button!"),c.a.createElement(v,null),c.a.createElement(o.b,null,c.a.createElement(w,{path:"results/:locale/:season"})))},S=function(){return c.a.createElement("div",{className:"container my-5"},c.a.createElement("h1",{className:"my-4"},"You have successfully logged out!"),c.a.createElement(o.a,{to:"/",className:"btn btn-outline-success btn-lg mb-4"},"Login / Register"))},O=function(e){var t=e.bird;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"card mb-3 mr-3 thick-border",style:{width:"20em"}},c.a.createElement("img",{src:t.photoUrl,alt:"".concat(t.commonName),className:"card-img-top rounded-corners align-self-center mt-2",style:{width:"80px"}}),c.a.createElement("div",{className:"card-body text-center"},c.a.createElement("a",{href:"".concat(t.wikipediaUrl),target:"_blank",className:"h5 py-3"},t.commonName),c.a.createElement("p",{className:"font-italic"},t.latinName),c.a.createElement("p",{className:"h6 dark-font",style:{fontSize:"14px"}},"spotted on: ",t.observedOn))))},x=function(e){var t=e.checklistId,l=a(9),r=Object(n.useState)(!1),s=Object(i.a)(r,2),u=s[0],d=s[1],h=Object(n.useState)({}),p=Object(i.a)(h,2),g=p[0],b=p[1];Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/users/loggedin",{withCredentials:!0}).then((function(e){console.log("logged in user: ".concat(e.data.email)),b(e.data)})).catch((function(e){console.log(e)}))}),[]);var E=Object(n.useState)(),v=Object(i.a)(E,2),y=v[0],w=v[1],j=Object(n.useState)(""),S=Object(i.a)(j,2),x=S[0],C=S[1],_=Object(n.useState)(""),F=Object(i.a)(_,2),U=F[0],B=F[1],D=Object(n.useState)(""),A=Object(i.a)(D,2),I=A[0],L=A[1],H=Object(n.useState)([]),P=Object(i.a)(H,2),T=P[0],M=P[1];Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/checklists/".concat(t),{withCredentials:!0}).then((function(e){w(e.data.updatedAt.slice(0,10)),C(e.data.title),B(e.data.location),L(e.data.notes),M(l.orderBy(e.data.birds,["hasBeenSeen","commonName"])),d(!0)})).catch((function(e){return console.log(e)}))}),[]);return c.a.createElement("div",{className:"container"},c.a.createElement(f,{userName:g.firstName}),!u&&c.a.createElement(k,null),c.a.createElement("div",null,u&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"dark-font text-left"},x),c.a.createElement("h4",{className:"dark-font text-left"},"Last updated: ",c.a.createElement("span",{className:"dark-font h2"},y)),c.a.createElement("h6",{className:"helper-msg-color text-left"},"Check off the birds as you spot them. Make any other changes you'd like and click save when you're ready!"),c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a={title:x,location:U,notes:I,birds:T};m.a.put("http://localhost:8000/api/checklists/".concat(t),a,{withCredentials:!0}).then((function(e){return e.json({msg:"successfully updated checklist!"})})).catch((function(e){return console.log(e)})),Object(o.c)("/home")}},c.a.createElement("br",null),c.a.createElement("div",{className:"form-row m-2"},c.a.createElement("div",{className:"col-8"}),c.a.createElement("div",{className:"form-row col-6"},c.a.createElement("label",{className:"h4 dark-font"},"Title:"),c.a.createElement("input",{name:"title",onChange:function(e){return C(e.target.value)},value:x,type:"text",className:"form-control",placeholder:x})),c.a.createElement("div",{className:"form-row ml-2 col-6"},c.a.createElement("label",{className:"h4 dark-font"},"Location:"),c.a.createElement("input",{name:"location",onChange:function(e){return B(e.target.value)},value:U,type:"text",className:"form-control",placeholder:U}))),c.a.createElement("div",{className:"form-row m-2"},c.a.createElement("label",{className:"h4 dark-font"},"Notes:"),c.a.createElement("textarea",{name:"notes",onChange:function(e){return L(e.target.value)},value:I,type:"text-area",className:"form-control",placeholder:I,rows:5})),c.a.createElement("div",{className:"d-flex justify-content-end"},c.a.createElement("button",{className:"btn btn-primary mb-4 mr-2 btn-lg"},"Save Changes")),T.map((function(e,t){return c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",value:e,key:t,checked:e.hasBeenSeen,onChange:function(){return function(e){console.log("hasBeenSeenHandler triggered...");var t=Object(N.a)(T);if(t[e].hasBeenSeen=!t[e].hasBeenSeen,t[e].hasBeenSeen){var a=new Date,n="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate());t[e].observedOn=n}else t[e].observedOn="";t=l.orderBy(t,["hasBeenSeen","commonName"]),M(t)}(t)}}),c.a.createElement(O,{bird:e}))})),c.a.createElement("div",{className:"d-flex justify-content-center mb-4"},c.a.createElement("button",{className:"btn btn-primary btn-lg mr-4"},"Save Changes"))))))};var C=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(o.b,{path:"/"},c.a.createElement(h,{path:"/"}),c.a.createElement(E,{path:"/home"}),c.a.createElement(j,{path:"main"},c.a.createElement(v,{path:""}),c.a.createElement(w,{path:"/results/:locale/:season/:searchLocation?/:searchMunicipality?/:searchCounty?/:searchState?"})),c.a.createElement(x,{path:"/checklists/:checklistId"}),c.a.createElement(S,{path:"logout"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.c2295994.chunk.js.map