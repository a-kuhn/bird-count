(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,a){e.exports=a(53)},27:function(e,t,a){},34:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(20),o=a.n(l),r=(a(27),a(3)),s=(a(34),a(2)),m=a.n(s),i=a(1),u=function(){var e,t,a,l,o,s,u,d,h,f,p=Object(n.useState)(""),g=Object(i.a)(p,2),b=g[0],E=g[1],v=Object(n.useState)(""),N=Object(i.a)(v,2),y=N[0],j=N[1],k=Object(n.useState)(""),w=Object(i.a)(k,2),O=w[0],S=w[1],x=Object(n.useState)(""),C=Object(i.a)(x,2),_=C[0],B=C[1],U=Object(n.useState)(""),F=Object(i.a)(U,2),D=F[0],A=F[1],I=Object(n.useState)(null),L=Object(i.a)(I,2),M=L[0],R=L[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"col-5 dark-font ",onSubmit:function(e){e.preventDefault();var t={firstName:b,lastName:y,email:O,password:_,confirmPassword:D};console.log("newUser: $".concat(t)),m.a.post("http://localhost:8000/api/register",t,{withCredentials:!0}).then((function(e){console.log(e),E(""),j(""),S(""),B(""),A(""),Object(r.c)("/home")})).catch((function(e){console.log("error at post request ".concat(e)),R(e.response.data.errors)}))}},c.a.createElement("div",{className:"form-row justify-content-around"},c.a.createElement("fieldset",{className:"thick-border form-group"},c.a.createElement("legend",{className:"w-auto mx-3 px-1"},"register"),c.a.createElement("div",{className:"form-row m-1"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{onChange:function(e){return E(e.target.value)},value:b,type:"text",className:"form-control",placeholder:"first name"}),(null===M||void 0===M?void 0:M.firstName)&&c.a.createElement("span",{className:"error-message"},null===(e=M.firstName)||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.message)),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{onChange:function(e){return j(e.target.value)},value:y,type:"text",className:"form-control",placeholder:"last name"}),(null===M||void 0===M?void 0:M.lastName)&&c.a.createElement("span",{className:"error-message"},null===(a=M.lastName)||void 0===a||null===(l=a.properties)||void 0===l?void 0:l.message))),c.a.createElement("div",{className:"form-row m-2 m-2"},c.a.createElement("input",{onChange:function(e){return S(e.target.value)},value:O,type:"text",className:"form-control",placeholder:"email"}),(null===M||void 0===M?void 0:M.email)&&c.a.createElement("span",{className:"error-message"},null===(o=M.email)||void 0===o||null===(s=o.properties)||void 0===s?void 0:s.message)),c.a.createElement("div",{className:"form-row m-1"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{onChange:function(e){return B(e.target.value)},value:_,type:"text",className:"form-control",placeholder:"password"}),(null===M||void 0===M?void 0:M.password)&&c.a.createElement("span",{className:"error-message"},null===(u=M.password)||void 0===u||null===(d=u.properties)||void 0===d?void 0:d.message)),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{onChange:function(e){return A(e.target.value)},value:D,type:"text",className:"form-control",placeholder:"confirm password"}),(null===M||void 0===M?void 0:M.confirmPassword)&&c.a.createElement("span",{className:"error-message"},null===(h=M.confirmPassword)||void 0===h||null===(f=h.properties)||void 0===f?void 0:f.message))),c.a.createElement("div",{className:"row justify-content-around"},c.a.createElement("button",{className:"btn btn-outline-success thick-border dark-font font-weight-bold m-2"},"register"))))))},d=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),s=Object(i.a)(o,2),u=s[0],d=s[1],h=Object(n.useState)(null),f=Object(i.a)(h,2),p=f[0],g=f[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"col-5 dark-font ",onSubmit:function(e){e.preventDefault(),m.a.post("http://localhost:8000/api/login",{email:a,password:u},{withCredentials:!0}).then((function(e){console.log(e),Object(r.c)("/home")})).catch((function(e){console.log(e),g(e.response.data.msg)}))}},c.a.createElement("div",{className:"form-row justify-content-around"},c.a.createElement("fieldset",{className:"thick-border form-group"},c.a.createElement("legend",{className:"w-auto mx-3 px-1"},"login"),c.a.createElement("div",{className:"form-row m-2 m-2"},c.a.createElement("input",{onChange:function(e){return l(e.target.value)},value:a,type:"text",className:"form-control",placeholder:"email"})),c.a.createElement("div",{className:"form-row m-2 m-2"},c.a.createElement("input",{onChange:function(e){return d(e.target.value)},value:u,type:"text",className:"form-control",placeholder:"password"})),c.a.createElement("p",{className:"error-message"},p||""),c.a.createElement("div",{className:"row justify-content-around"},c.a.createElement("button",{className:"btn btn-outline-success thick-border dark-font font-weight-bold m-2"},"login"))))))},h=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"mt-4"},"Welcome to Bird Count!"),c.a.createElement("h3",null,"Just having a look around? "),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m.a.post("http://localhost:8000/api/login",{email:"guest@birder.com",password:"asdfasdf"},{withCredentials:!0}).then((function(e){console.log(e),Object(r.c)("/home")})).catch((function(e){console.log(e)}))}},c.a.createElement("button",{className:"btn btn-outline-success btn-lg mb-4"},"continue as a guest")),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement(u,null),c.a.createElement(d,null))))},f=function(e){var t=e.userName;console.log(t);return c.a.createElement("div",{className:"d-flex justify-content-around"},c.a.createElement(r.a,{to:"/home",className:"btn btn-outline-primary btn-lg mr-4 my-4"},"Home"),c.a.createElement("h2",{className:"dark-font mr-auto mt-4"}," Hey, ",t,"! "),c.a.createElement(r.a,{to:"/main",className:"btn btn-outline-success btn-lg m-4"},"New List"),c.a.createElement("button",{onClick:function(e){e.preventDefault(),m.a.post("http://localhost:8000/api/logout",{},{withCredentials:!0}).then((function(e){console.log("res from NavBar logout: ".concat(e.data.msg)),Object(r.c)("/")})).catch(console.log)},className:"btn btn-outline-danger btn-lg m-4"},"Logout"))},p=function(e){var t=e.checklist,a=t.updatedAt.slice(0,10);return c.a.createElement("div",{className:"card mb-3 mr-3 thick-border col-9 d-inline-flex"},c.a.createElement("div",{className:"card-body justify-content-between d-flex"},c.a.createElement("a",{href:"/checklists/".concat(t._id),className:"h2 py-3 stretched-link d-inline-flex col-5"},t.title),c.a.createElement("div",{className:"col-5"},c.a.createElement("p",{className:"font-bold d-inline-flex align-self-center",style:{fontSize:"22px"}},"location:  ",t.location),c.a.createElement("p",{className:"h6 dark-font d-inline-flex align-self-center mr-4",style:{fontSize:"14px"}},"last updated: ",a))))},g=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Updating your list of lists..."),c.a.createElement("div",{className:"container"},c.a.createElement("iframe",{src:"https://giphy.com/embed/XAWvCOd3oV7q",frameBorder:"0",className:"",allowFullScreen:!0})),c.a.createElement("p",null,c.a.createElement("a",{href:"https://giphy.com/gifs/cheezburger-funny-birds-XAWvCOd3oV7q"},"via GIPHY")))},b=function(){var e=a(9),t=Object(n.useState)(!1),l=Object(i.a)(t,2),o=l[0],r=l[1],s=Object(n.useState)({}),u=Object(i.a)(s,2),d=u[0],h=u[1];Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/users/loggedin",{withCredentials:!0}).then((function(e){console.log("user: ".concat(e.data.email)),h(e.data)})).catch((function(e){console.log(e)}))}),[]);var b=Object(n.useState)([]),E=Object(i.a)(b,2),v=E[0],N=E[1];Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/users/checklists",{withCredentials:!0}).then((function(t){console.log("successfully loaded checklists!\n".concat(t.data.checklists[0].title));var a=t.data.checklists;a=e.orderBy(a,"-updatedAt"),N(a),r(!0)})).catch((function(e){console.log(e)}))}),[]);return c.a.createElement("div",{className:"container"},c.a.createElement(f,{userName:d.firstName}),c.a.createElement("div",null,c.a.createElement("h2",{className:"text-left dark-font"},"Here's all your saved checklists:")),c.a.createElement("h6",{className:"helper-msg-color text-left ml-1"},"Click on a list to view/update it."),!o&&c.a.createElement(g,null),o&&v.map((function(e,t){return c.a.createElement("div",{className:"d-flex "},c.a.createElement(p,{checklist:e,key:t}),c.a.createElement("button",{onClick:function(t){return a=e._id,r(!1),void m.a.delete("http://localhost:8000/api/checklists/".concat(a),{withCredentials:!0}).then((function(e){console.log("deleting checklist: ".concat(a));var t=v.filter((function(e){return e._id!=a}));console.log("filtered lists: ".concat(t)),N(t),r(!0)})).catch((function(e){return console.log(e)}));var a},className:"text-center btn btn-danger d-inline-flex align-self-center"},"delete"))})))},E=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),s=Object(i.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)(""),h=Object(i.a)(d,2),f=h[0],p=h[1],g=Object(n.useState)(""),b=Object(i.a)(g,2),E=b[0],v=b[1],N=Object(n.useState)(""),y=Object(i.a)(N,2),j=y[0],k=y[1],w=Object(n.useState)(""),O=Object(i.a)(w,2),S=O[0],x=O[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"container dark-font",onSubmit:function(e){e.preventDefault();var t="",n=(new Date).getMonth();"thisSeason"===j&&(t=[n-1,n,n+1]),"springSeason"===j&&(t=[2,3,4]),"summerSeason"===j&&(t=[5,6,7]),"fallSeason"===j&&(t=[8,9,10]),"winterSeason"===j&&(t=[11,0,1]),t=encodeURIComponent(t);var c="";a.length>0&&(c+="".concat(a,"+")),E.length>0&&(c+="".concat(E,"+")),f.length>0&&(c+="".concat(f,"+County+")),m.length>0&&(c+="".concat(m)),c=encodeURIComponent(c),console.log("sending searchSeason: '".concat(t,"' and locale: '").concat(c,"' up to Main.jsx")),Object(r.c)("/main/results/".concat(c,"/").concat(t))}},c.a.createElement("div",{className:"form-row justify-content-around"},c.a.createElement("fieldset",{className:"thick-border form-group col-md-5"},c.a.createElement("legend",{className:"w-auto mx-3 px-1"},"location"),c.a.createElement("div",{className:"form-row m-2 m-2"},c.a.createElement("input",{onChange:function(e){return l(e.target.value)},value:a,type:"text",className:"form-control",placeholder:"birding location (park, campus, lake, etc.)"})),c.a.createElement("div",{className:"form-row m-2"},c.a.createElement("input",{onChange:function(e){return v(e.target.value)},value:E,type:"text",className:"form-control",placeholder:"municipality"})),c.a.createElement("div",{className:"form-row m-1"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{onChange:function(e){return p(e.target.value)},value:f,type:"text",className:"form-control",placeholder:"county"})),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{onChange:function(e){return u(e.target.value)},value:m,type:"text",className:"form-control",placeholder:"state"}))),c.a.createElement("div",{className:"form-row m-2"},c.a.createElement("input",{onChange:function(e){return x(e.target.value)},value:S,type:"text",className:"form-control",placeholder:"search radius (km)"})))," ",c.a.createElement("fieldset",{className:"thick-border form-group col-md-5"},c.a.createElement("legend",{className:"w-auto mx-3 px-1"},"season"),c.a.createElement("div",{className:"form-row justify-content-around"},c.a.createElement("div",{className:"p-1 my-2 lt-gray-border"},c.a.createElement("div",{className:"form-check text-center"},c.a.createElement("input",{onChange:function(e){return k(e.target.value)},className:"form-check-input",type:"radio",name:"searchSeason",id:"thisSeason",value:"thisSeason"}),c.a.createElement("label",{className:"form-check-label",htmlFor:"thisSeason"},"this season (\xb1 1 month from today)")))),c.a.createElement("div",{className:"form-row justify-content-around"},c.a.createElement("div",{className:"col-md-4 my-2 lt-gray-border"},c.a.createElement("div",{className:"form-check text-center"},c.a.createElement("input",{onChange:function(e){return k(e.target.value)},className:"form-check-input mt-3",type:"radio",name:"searchSeason",id:"springSeason",value:"springSeason"}),c.a.createElement("label",{className:"form-check-label",htmlFor:"springSeason"},"spring",c.a.createElement("br",null),"(March - May)"))),c.a.createElement("div",{className:"col-md-4 my-2 lt-gray-border"},c.a.createElement("div",{className:"form-check text-center"},c.a.createElement("input",{onChange:function(e){return k(e.target.value)},className:"form-check-input mt-3",type:"radio",name:"searchSeason",id:"summerSeason",value:"summerSeason"}),c.a.createElement("label",{className:"form-check-label",htmlFor:"summerSeason"},"summer",c.a.createElement("br",null),"(June - Aug)")))),c.a.createElement("div",{className:"form-row justify-content-around"},c.a.createElement("div",{className:"col-md-4 my-2 lt-gray-border"},c.a.createElement("div",{className:"form-check text-center"},c.a.createElement("input",{onChange:function(e){return k(e.target.value)},className:"form-check-input mt-3",type:"radio",name:"searchSeason",id:"fallSeason",value:"fallSeason"}),c.a.createElement("label",{className:"form-check-label mx-2",htmlFor:"fallSeason"},"fall",c.a.createElement("br",null),"(Sept - Nov)"))),c.a.createElement("div",{className:"col-md-4 my-2 lt-gray-border"},c.a.createElement("div",{className:"form-check text-center"},c.a.createElement("input",{onChange:function(e){return k(e.target.value)},className:"form-check-input mt-3",type:"radio",name:"searchSeason",id:"winterSeason",value:"winterSeason"}),c.a.createElement("label",{className:"form-check-label mx-2",htmlFor:"winterSeason"},"winter",c.a.createElement("br",null),"(Dec - Feb)")))))),c.a.createElement("div",{className:"row justify-content-around"},c.a.createElement("button",{className:"btn btn-success font-weight-bold m-2"},"Build a Checklist"))))},v=a(6),N=function(e){var t=e.bird;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"card mb-3 mr-3 thick-border",style:{width:"20em"}},c.a.createElement("img",{src:t.photoUrl,alt:"".concat(t.commonName),className:"card-img-top rounded-corners align-self-center mt-2",style:{width:"80px"}}),c.a.createElement("div",{className:"card-body text-center"},c.a.createElement("a",{href:"".concat(t.wikipediaUrl),className:"h5 py-3"},t.commonName),c.a.createElement("p",{className:"font-italic"},t.latinName),c.a.createElement("a",{href:"".concat(t.iNatOccUrl)},c.a.createElement("span",{className:"h6 dark-font",style:{fontSize:"14px"}},"last seen here on: "),t.observedOn))))},y=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Rustling up some birds..."),c.a.createElement("div",{className:"container"},c.a.createElement("iframe",{src:"https://giphy.com/embed/gSRkSblDEjUuk",frameBorder:"0",className:"",allowFullScreen:!0})),c.a.createElement("p",null,c.a.createElement("a",{href:"https://giphy.com/gifs/cheezburger-bird-popcorn-funny-gSRkSblDEjUuk"},"via GIPHY")))},j=function(e){console.log("loading results...\nprops: locale=".concat(e.locale,", season=").concat(e.season));var t=Object(n.useState)(!1),l=Object(i.a)(t,2),o=l[0],s=l[1],u=a(9),d=Object(n.useState)({}),h=Object(i.a)(d,2),f=h[0],p=h[1];Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/users/loggedin",{withCredentials:!0}).then((function(e){console.log("user: ".concat(e.data.email)),p(e.data)})).catch((function(e){console.log(e)}))}),[]);var g=e.locale,b=decodeURIComponent(e.season),E=decodeURIComponent(g).replace("+",", "),j=Object(n.useState)([]),k=Object(i.a)(j,2),w=k[0],O=k[1],S=Object(n.useState)(""),x=Object(i.a)(S,2),C=x[0],_=x[1],B=Object(n.useState)(""),U=Object(i.a)(B,2),F=U[0],D=U[1],A=Object(n.useState)(""),I=Object(i.a)(A,2),L=I[0],M=I[1],R=Object(n.useState)(E),z=Object(i.a)(R,2),H=z[0],P=z[1],q=Object(n.useState)(""),T=Object(i.a)(q,2),W=T[0];T[1];Object(n.useEffect)((function(){m.a.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:g,key:"AIzaSyAfn2CaF72cK4u65PyzZLLKODmjiVShC1Q"}}).then((function(e){var t=new Date;m.a.get("https://api.inaturalist.org/v1/observations",{params:{per_page:200,iconic_taxa:"Aves",order:"desc",order_by:"observed_on",quality_grade:"research",geoprivacy:"open",month:"".concat(b),d1:"".concat(t.getFullYear()-50,"-").concat(t.getMonth()+1,"-").concat(t.getDate()),d2:"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()),lat:"".concat(e.data.results[0].geometry.location.lat),lng:"".concat(e.data.results[0].geometry.location.lng)}}).then((function(e){var t=function(e){var t=Object(v.a)(e),a=[],n=[];return t.forEach((function(e){n.includes(e.taxon.preferred_common_name)||(a.push({photoUrl:e.taxon.default_photo.square_url,commonName:e.taxon.preferred_common_name,latinName:e.taxon.name,wikipediaUrl:e.taxon.wikipedia_url,iNatOccUrl:e.uri,observedOn:e.observed_on,hasBeenSeen:!1,notes:"",shouldSave:!0}),n.push(e.taxon.preferred_common_name))})),console.log("starting to filter..."),u.orderBy(a,"commonName")}(e.data.results);console.log(t),O(t),s(!0)})).catch((function(e){return D("an error occurred while trying to build your checklist:\n".concat(e))}))})).catch((function(e){return _("something's wrong with the location you're using:\n".concat(e))}))}),[]);return c.a.createElement("div",null,C.length>0&&c.a.createElement("p",{className:"err-msg"},C),F.length>0&&c.a.createElement("p",{className:"err-msg"},F),!o&&c.a.createElement(y,null),c.a.createElement("hr",{className:"thick-border"}),o&&c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=Object(v.a)(w),a={birds:t=(t=t.filter((function(e){return!0===e.shouldSave}))).map((function(e){return{commonName:e.commonName,hasBeenSeen:e.hasBeenSeen,iNatOccUrl:e.iNatOccUrl,latinName:e.latinName,notes:e.notes,observedOn:e.observedOn,photoUrl:e.photoUrl,wikipediaUrl:e.wikipediaUrl}})),creator:f._id,location:H,notes:W,title:L.length>0?L:"[No Title]"};m.a.post("http://localhost:8000/api/checklists/new",a,{withCredentials:!0}).then((function(e){var t=e.data.newList._id,a={checklists:f.checklists.concat(t)};return m.a.put("http://localhost:8000/api/users/edit",a,{withCredentials:!0}).then((function(e){e.json({msg:"checklist._id successfully added to user's acct!"})})).catch((function(e){return console.log("error adding checklist to user's acct: ".concat(e))})),t})).then((function(e){Object(r.c)("/checklists/".concat(e))})).catch((function(e){return console.log("error with making new checklist: ".concat(e))}))}},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("h2",{className:"ml-2 dark-font"},"Here's what we found:"),c.a.createElement("button",{className:"btn btn-primary btn-lg mr-4"},"Save Checklist")),c.a.createElement("h6",{className:"helper-msg-color text-left ml-2"},"To save this list, decide which birds to keep (\u2611) or not (\u2610), add a title if you want, then hit the save button."),c.a.createElement("br",null),c.a.createElement("div",{className:"form-row m-2"},c.a.createElement("div",{className:"form-row col-6"},c.a.createElement("label",{className:"text-left"},"Title:"),c.a.createElement("input",{name:"title",onChange:function(e){return M(e.target.value)},value:L,type:"text",className:"form-control",placeholder:"Do you want to name this list?"})),c.a.createElement("div",{className:"form-row ml-2 col-6"},c.a.createElement("label",null,"Location:"),c.a.createElement("input",{name:"location",onChange:function(e){return P(e.target.value)},value:H,type:"text",className:"form-control",placeholder:"Do you want to specify a location?"}))),w.map((function(e,t){return c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",value:e,key:t,checked:e.shouldSave,onChange:function(){return function(e){w[e].shouldSave=!w[e].shouldSave,O(Object(v.a)(w))}(t)}}),c.a.createElement(N,{bird:e}))})),c.a.createElement("div",{className:"d-flex justify-content-center mb-4"},c.a.createElement("button",{className:"btn btn-primary btn-lg mr-4"},"Save Checklist"))))},k=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/users/loggedin",{withCredentials:!0}).then((function(e){console.log("user: ".concat(e.data.email)),l(e.data)})).catch((function(e){console.log(e)}))}),[]),c.a.createElement("div",{className:"container"},c.a.createElement(f,{userName:a.firstName}),c.a.createElement("h6",{className:"helper-msg-color text-left ml-4"},"To create a new list, just fill out the form and click the button!"),c.a.createElement(E,null),c.a.createElement(r.b,null,c.a.createElement(j,{path:"results/:locale/:season"})))},w=function(){return c.a.createElement("div",{className:"container my-5"},c.a.createElement("h1",{className:"my-4"},"You have successfully logged out!"),c.a.createElement(r.a,{to:"/",className:"btn btn-outline-success btn-lg mb-4"},"Login / Register"))},O=function(e){var t=e.checklistId,l=a(9),o=Object(n.useState)(!1),s=Object(i.a)(o,2),u=s[0],d=s[1],h=Object(n.useState)({}),p=Object(i.a)(h,2),g=p[0],b=p[1];Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/users/loggedin",{withCredentials:!0}).then((function(e){console.log("user: ".concat(e.data.email)),b(e.data)})).catch((function(e){console.log(e)}))}),[]);var E=Object(n.useState)(),j=Object(i.a)(E,2),k=j[0],w=j[1],O=Object(n.useState)(""),S=Object(i.a)(O,2),x=S[0],C=S[1],_=Object(n.useState)(""),B=Object(i.a)(_,2),U=B[0],F=B[1],D=Object(n.useState)(""),A=Object(i.a)(D,2),I=A[0],L=A[1],M=Object(n.useState)([]),R=Object(i.a)(M,2),z=R[0],H=R[1];Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/checklists/".concat(t),{withCredentials:!0}).then((function(e){console.log("response from getOne checklist: ".concat(e.data.birds[0].commonName)),w(e.data.updatedAt.slice(0,10)),C(e.data.title),F(e.data.location),L(e.data.notes),H(l.orderBy(e.data.birds,["hasBeenSeen","commonName"])),d(!0)})).catch((function(e){return console.log(e)}))}),[]);return c.a.createElement("div",{className:"container"},c.a.createElement(f,{userName:g.firstName}),!u&&c.a.createElement(y,null),c.a.createElement("div",null,u&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"dark-font text-left"},x),c.a.createElement("h4",{className:"dark-font text-left"},"Last updated: ",c.a.createElement("span",{className:"dark-font h2"},k)),c.a.createElement("h6",{className:"helper-msg-color text-left"},"Check off the birds as you spot them. Make any other changes you'd like and click save when you're ready!"),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("save edits handler triggered...");var a={title:x,location:U,notes:I,birds:z};m.a.put("http://localhost:8000/api/checklists/".concat(t),a,{withCredentials:!0}).then((function(e){return e.json({msg:"successfully updated checklist!"})})).catch((function(e){return console.log(e)})),Object(r.c)("/home")}},c.a.createElement("br",null),c.a.createElement("div",{className:"form-row m-2"},c.a.createElement("div",{className:"col-8"}),c.a.createElement("div",{className:"form-row col-6"},c.a.createElement("label",{className:"h4 dark-font"},"Title:"),c.a.createElement("input",{name:"title",onChange:function(e){return C(e.target.value)},value:x,type:"text",className:"form-control",placeholder:x})),c.a.createElement("div",{className:"form-row ml-2 col-6"},c.a.createElement("label",{className:"h4 dark-font"},"Location:"),c.a.createElement("input",{name:"location",onChange:function(e){return F(e.target.value)},value:U,type:"text",className:"form-control",placeholder:U}))),c.a.createElement("div",{className:"form-row m-2"},c.a.createElement("label",{className:"h4 dark-font"},"Notes:"),c.a.createElement("textarea",{name:"notes",onChange:function(e){return L(e.target.value)},value:I,type:"text-area",className:"form-control",placeholder:I,rows:5})),c.a.createElement("div",{className:"d-flex justify-content-end"},c.a.createElement("button",{className:"btn btn-primary mb-4 mr-2 btn-lg"},"Save Changes")),z.map((function(e,t){return c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",value:e,key:t,checked:e.hasBeenSeen,onChange:function(){return function(e){console.log("hasBeenSeenHandler triggered...");var t=Object(v.a)(z);t[e].hasBeenSeen=!t[e].hasBeenSeen,t=l.orderBy(t,["hasBeenSeen","commonName"]),H(t)}(t)}}),c.a.createElement(N,{bird:e}))})),c.a.createElement("div",{className:"d-flex justify-content-center mb-4"},c.a.createElement("button",{className:"btn btn-primary btn-lg mr-4"},"Save Changes"))))))};var S=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(r.b,{path:"/"},c.a.createElement(h,{path:"/"}),c.a.createElement(b,{path:"/home"}),c.a.createElement(k,{path:"main"},c.a.createElement(E,{path:""}),c.a.createElement(j,{path:"/results/:locale/:season/:searchLocation?/:searchMunicipality?/:searchCounty?/:searchState?"})),c.a.createElement(O,{path:"/checklists/:checklistId"}),c.a.createElement(w,{path:"logout"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.5590541c.chunk.js.map